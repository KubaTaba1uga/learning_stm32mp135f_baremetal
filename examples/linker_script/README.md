We split our init code into assembly and C. Assembly is used to initialize low level ctx for C and then run main.
